<!doctype html>
<html>
<head>
    <meta http-equiv="Content-type" content="text/html; charset=utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge">

    <link rel="stylesheet" href="css/bootstrap.min.css" type="text/css">
    <link rel="stylesheet" href="css/styles.css" type="text/css">

    <!--[if lt IE 9]>
    <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>
    <script type="text/javascript" src="js/bootstrap.min.js"></script>

</head>
<body>
    <div class="header">
        <h1><p class="text-center text-uppercase">Заказы</p></h1>
    </div>

    <!-- HTML код управляемого элемента -->
    <input type="button" class="btn btn-primary" data-toggle="collapse" data-target="#toggleSample" value="Элемент управления">
    <!-- HTML код сворачиваемого элемента -->
    <div id="toggleSample" class="collapse in">
        <p style="background: #F9F9F9; border: 1px solid #E1E1E8; margin: 10px 0; padding: 8px;">
            На этом примере показана возможность сворачивания и разворачивания элемента с помощью data атрибутов. Нажмите на <b>кнопку</b>, чтобы увидеть этот эффект.
        </p>
    </div>


    <div class="orders" id="orderlist">
    </div>

    <script type="text/javascript">
        $(function(){
            $.getJSON('test.json', function(data){
                var order = '';
                var orderCount = 0;

                for (var OrderData in data){
                    order += '<p><button class="btn btn-primary" data-toggle="collapse" data-target="#hideme' + orderCount + '">' + OrderData + '</button></p>';
                    order += '<table class="table table-striped collapse in" id="hideme' + orderCount++ + '"><thead><tr><th>Наименование</th><th>Количество порций</th><th>Цена за порцию</th><th>Вес порции</th><th>Общая стоимость</th></tr></thead><tbody>';

                    var valueOneOrder = data[OrderData];

                    for(var keycontains in valueOneOrder){
                        order += '<tr>';

                        for (var i=0; i<valueOneOrder[keycontains].length; i++){
                            if (i==1 && valueOneOrder[keycontains][i] == 1) {
                                order += '<td></td>';
                                order += '<td></td>';
                                i += 2;
                            }
                            order += '<td>' + valueOneOrder[keycontains][i] + '</td>';
                        }
                        order += '</tr>';
                    }
                    order += '</tbody></table>';
                }

                $('#orderlist').append(order);
            });
        });
    </script>
</body>
</html>